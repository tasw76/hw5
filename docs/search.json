[
  {
    "objectID": "hw5code.html",
    "href": "hw5code.html",
    "title": "hw5",
    "section": "",
    "text": "Reach in the data provided.\n\nd1 &lt;- read.table(\"C:/Users/tangw1/Desktop/ST558_repo/hw5/student-mat.csv\", sep=\";\", header=TRUE)\nd2 &lt;- read.table(\"C:/Users/tangw1/Desktop/ST558_repo/hw5/student-por.csv\", sep=\";\", header=TRUE)\n\n# Merge the two data frames using the example code\nd3 &lt;- merge(d1, d2, by=c(\"school\", \"sex\", \"age\", \"address\", \"famsize\", \"Pstatus\", \"Medu\", \"Fedu\", \"Mjob\", \"Fjob\", \"reason\", \"nursery\", \"internet\"))\nprint(nrow(d3)) # Should output 382 students\n\n[1] 382\n\n\nUse tidyverse to repeat the step, and this approach returns an issue (see note).\n\nlibrary(tidyverse)\n\nWarning: package 'tidyverse' was built under R version 4.3.3\n\n\nWarning: package 'ggplot2' was built under R version 4.3.3\n\n\nWarning: package 'tibble' was built under R version 4.3.1\n\n\nWarning: package 'tidyr' was built under R version 4.3.3\n\n\nWarning: package 'readr' was built under R version 4.3.3\n\n\nWarning: package 'purrr' was built under R version 4.3.3\n\n\nWarning: package 'dplyr' was built under R version 4.3.1\n\n\nWarning: package 'stringr' was built under R version 4.3.2\n\n\nWarning: package 'forcats' was built under R version 4.3.3\n\n\nWarning: package 'lubridate' was built under R version 4.3.3\n\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.3     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\n# Read in the data using read_csv from the readr package\nd4 &lt;- read_delim(\"C:/Users/tangw1/Desktop/ST558_repo/hw5/student-mat.csv\", col_names = TRUE, delim = \";\")\n\nRows: 395 Columns: 33\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \";\"\nchr (17): school, sex, address, famsize, Pstatus, Mjob, Fjob, reason, guardi...\ndbl (16): age, Medu, Fedu, traveltime, studytime, failures, famrel, freetime...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\nd5 &lt;- read_delim(\"C:/Users/tangw1/Desktop/ST558_repo/hw5/student-por.csv\", col_names = TRUE, delim = \";\")\n\nRows: 649 Columns: 33\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \";\"\nchr (17): school, sex, address, famsize, Pstatus, Mjob, Fjob, reason, guardi...\ndbl (16): age, Medu, Fedu, traveltime, studytime, failures, famrel, freetime...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n# Combine the data frames using inner_join\nd6 &lt;- inner_join(d1, d2, by = c(\"school\", \"sex\", \"age\", \"address\", \"famsize\", \"Pstatus\", \n                                \"Medu\", \"Fedu\", \"Mjob\", \"Fjob\", \"reason\", \"nursery\", \"internet\"))\n\nWarning in inner_join(d1, d2, by = c(\"school\", \"sex\", \"age\", \"address\", : Detected an unexpected many-to-many relationship between `x` and `y`.\nℹ Row 79 of `x` matches multiple rows in `y`.\nℹ Row 79 of `y` matches multiple rows in `x`.\nℹ If a many-to-many relationship is expected, set `relationship =\n  \"many-to-many\"` to silence this warning.\n\nprint(nrow(d3))\n\n[1] 382\n\n# Note: Had issues when combining data: \"Detected an unexpected many-to-many relationship between `x` and `y'\"\n\nUse a subset of all variables when combining the two data frames. No issues noted.\n\n# define the columns to join, excluding G1, ...\njoin_columns &lt;- setdiff(names(d1), c(\"G1\", \"G2\", \"G3\", \"paid\", \"absences\"))\n\n# Combine the data frames using inner_join on the selected columns\nd7 &lt;- inner_join(d4, d5, by = join_columns)\nprint(nrow(d7)) # Should output the number of matching students\n\n[1] 320\n\n\nChoose four categorical variables and convert those into factor variables.\n\n# I choose the following 4 categorical variables: school, Fjob, reason, and famsize.\nmath_data &lt;- d4 %&gt;%\n  mutate(\n    school = as.factor(school),\n    Fjob = as.factor(Fjob),\n    reason = as.factor(reason),\n    famsize = as.factor(famsize)\n  )\n\npor_data &lt;- d5 %&gt;%\n  mutate(\n    school = as.factor(school),\n    Fjob = as.factor(Fjob),\n    reason = as.factor(reason),\n    famsize = as.factor(famsize)\n  )\n\ncombined_data &lt;- d7 %&gt;%\n  mutate(\n    school = as.factor(school),\n    Fjob = as.factor(Fjob),\n    reason = as.factor(reason),\n    famsize = as.factor(famsize)\n  )"
  },
  {
    "objectID": "hw5code.html#task-1-read-in-the-data-and-modify",
    "href": "hw5code.html#task-1-read-in-the-data-and-modify",
    "title": "hw5",
    "section": "",
    "text": "Reach in the data provided.\n\nd1 &lt;- read.table(\"C:/Users/tangw1/Desktop/ST558_repo/hw5/student-mat.csv\", sep=\";\", header=TRUE)\nd2 &lt;- read.table(\"C:/Users/tangw1/Desktop/ST558_repo/hw5/student-por.csv\", sep=\";\", header=TRUE)\n\n# Merge the two data frames using the example code\nd3 &lt;- merge(d1, d2, by=c(\"school\", \"sex\", \"age\", \"address\", \"famsize\", \"Pstatus\", \"Medu\", \"Fedu\", \"Mjob\", \"Fjob\", \"reason\", \"nursery\", \"internet\"))\nprint(nrow(d3)) # Should output 382 students\n\n[1] 382\n\n\nUse tidyverse to repeat the step, and this approach returns an issue (see note).\n\nlibrary(tidyverse)\n\nWarning: package 'tidyverse' was built under R version 4.3.3\n\n\nWarning: package 'ggplot2' was built under R version 4.3.3\n\n\nWarning: package 'tibble' was built under R version 4.3.1\n\n\nWarning: package 'tidyr' was built under R version 4.3.3\n\n\nWarning: package 'readr' was built under R version 4.3.3\n\n\nWarning: package 'purrr' was built under R version 4.3.3\n\n\nWarning: package 'dplyr' was built under R version 4.3.1\n\n\nWarning: package 'stringr' was built under R version 4.3.2\n\n\nWarning: package 'forcats' was built under R version 4.3.3\n\n\nWarning: package 'lubridate' was built under R version 4.3.3\n\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.3     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\n# Read in the data using read_csv from the readr package\nd4 &lt;- read_delim(\"C:/Users/tangw1/Desktop/ST558_repo/hw5/student-mat.csv\", col_names = TRUE, delim = \";\")\n\nRows: 395 Columns: 33\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \";\"\nchr (17): school, sex, address, famsize, Pstatus, Mjob, Fjob, reason, guardi...\ndbl (16): age, Medu, Fedu, traveltime, studytime, failures, famrel, freetime...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\nd5 &lt;- read_delim(\"C:/Users/tangw1/Desktop/ST558_repo/hw5/student-por.csv\", col_names = TRUE, delim = \";\")\n\nRows: 649 Columns: 33\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \";\"\nchr (17): school, sex, address, famsize, Pstatus, Mjob, Fjob, reason, guardi...\ndbl (16): age, Medu, Fedu, traveltime, studytime, failures, famrel, freetime...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n# Combine the data frames using inner_join\nd6 &lt;- inner_join(d1, d2, by = c(\"school\", \"sex\", \"age\", \"address\", \"famsize\", \"Pstatus\", \n                                \"Medu\", \"Fedu\", \"Mjob\", \"Fjob\", \"reason\", \"nursery\", \"internet\"))\n\nWarning in inner_join(d1, d2, by = c(\"school\", \"sex\", \"age\", \"address\", : Detected an unexpected many-to-many relationship between `x` and `y`.\nℹ Row 79 of `x` matches multiple rows in `y`.\nℹ Row 79 of `y` matches multiple rows in `x`.\nℹ If a many-to-many relationship is expected, set `relationship =\n  \"many-to-many\"` to silence this warning.\n\nprint(nrow(d3))\n\n[1] 382\n\n# Note: Had issues when combining data: \"Detected an unexpected many-to-many relationship between `x` and `y'\"\n\nUse a subset of all variables when combining the two data frames. No issues noted.\n\n# define the columns to join, excluding G1, ...\njoin_columns &lt;- setdiff(names(d1), c(\"G1\", \"G2\", \"G3\", \"paid\", \"absences\"))\n\n# Combine the data frames using inner_join on the selected columns\nd7 &lt;- inner_join(d4, d5, by = join_columns)\nprint(nrow(d7)) # Should output the number of matching students\n\n[1] 320\n\n\nChoose four categorical variables and convert those into factor variables.\n\n# I choose the following 4 categorical variables: school, Fjob, reason, and famsize.\nmath_data &lt;- d4 %&gt;%\n  mutate(\n    school = as.factor(school),\n    Fjob = as.factor(Fjob),\n    reason = as.factor(reason),\n    famsize = as.factor(famsize)\n  )\n\npor_data &lt;- d5 %&gt;%\n  mutate(\n    school = as.factor(school),\n    Fjob = as.factor(Fjob),\n    reason = as.factor(reason),\n    famsize = as.factor(famsize)\n  )\n\ncombined_data &lt;- d7 %&gt;%\n  mutate(\n    school = as.factor(school),\n    Fjob = as.factor(Fjob),\n    reason = as.factor(reason),\n    famsize = as.factor(famsize)\n  )"
  },
  {
    "objectID": "hw5code.html#task-2-summary-the-data-very-basic-eda",
    "href": "hw5code.html#task-2-summary-the-data-very-basic-eda",
    "title": "hw5",
    "section": "Task 2: Summary the data (Very basic EDA)",
    "text": "Task 2: Summary the data (Very basic EDA)\nI use the following functions to look at how the data is stored and see if everything makes sense.\n\nhead(combined_data)   # display first 10 rows\n\n# A tibble: 6 × 38\n  school sex     age address famsize Pstatus  Medu  Fedu Mjob     Fjob    reason\n  &lt;fct&gt;  &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;   &lt;fct&gt;   &lt;chr&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;    &lt;fct&gt;   &lt;fct&gt; \n1 GP     F        18 U       GT3     A           4     4 at_home  teacher course\n2 GP     F        17 U       GT3     T           1     1 at_home  other   course\n3 GP     F        15 U       GT3     T           4     2 health   servic… home  \n4 GP     F        16 U       GT3     T           3     3 other    other   home  \n5 GP     M        16 U       LE3     T           4     3 services other   reput…\n6 GP     M        16 U       LE3     T           2     2 other    other   home  \n# ℹ 27 more variables: guardian &lt;chr&gt;, traveltime &lt;dbl&gt;, studytime &lt;dbl&gt;,\n#   failures &lt;dbl&gt;, schoolsup &lt;chr&gt;, famsup &lt;chr&gt;, paid.x &lt;chr&gt;,\n#   activities &lt;chr&gt;, nursery &lt;chr&gt;, higher &lt;chr&gt;, internet &lt;chr&gt;,\n#   romantic &lt;chr&gt;, famrel &lt;dbl&gt;, freetime &lt;dbl&gt;, goout &lt;dbl&gt;, Dalc &lt;dbl&gt;,\n#   Walc &lt;dbl&gt;, health &lt;dbl&gt;, absences.x &lt;dbl&gt;, G1.x &lt;dbl&gt;, G2.x &lt;dbl&gt;,\n#   G3.x &lt;dbl&gt;, paid.y &lt;chr&gt;, absences.y &lt;dbl&gt;, G1.y &lt;dbl&gt;, G2.y &lt;dbl&gt;,\n#   G3.y &lt;dbl&gt;\n\nstr(combined_data)  # examine the structure of the data\n\ntibble [320 × 38] (S3: tbl_df/tbl/data.frame)\n $ school    : Factor w/ 2 levels \"GP\",\"MS\": 1 1 1 1 1 1 1 1 1 1 ...\n $ sex       : chr [1:320] \"F\" \"F\" \"F\" \"F\" ...\n $ age       : num [1:320] 18 17 15 16 16 16 17 15 15 15 ...\n $ address   : chr [1:320] \"U\" \"U\" \"U\" \"U\" ...\n $ famsize   : Factor w/ 2 levels \"GT3\",\"LE3\": 1 1 1 1 2 2 1 2 1 1 ...\n $ Pstatus   : chr [1:320] \"A\" \"T\" \"T\" \"T\" ...\n $ Medu      : num [1:320] 4 1 4 3 4 2 4 3 3 4 ...\n $ Fedu      : num [1:320] 4 1 2 3 3 2 4 2 4 4 ...\n $ Mjob      : chr [1:320] \"at_home\" \"at_home\" \"health\" \"other\" ...\n $ Fjob      : Factor w/ 5 levels \"at_home\",\"health\",..: 5 3 4 3 3 3 5 3 3 2 ...\n $ reason    : Factor w/ 4 levels \"course\",\"home\",..: 1 1 2 2 4 2 2 2 2 4 ...\n $ guardian  : chr [1:320] \"mother\" \"father\" \"mother\" \"father\" ...\n $ traveltime: num [1:320] 2 1 1 1 1 1 2 1 1 1 ...\n $ studytime : num [1:320] 2 2 3 2 2 2 2 2 2 2 ...\n $ failures  : num [1:320] 0 0 0 0 0 0 0 0 0 0 ...\n $ schoolsup : chr [1:320] \"yes\" \"no\" \"no\" \"no\" ...\n $ famsup    : chr [1:320] \"no\" \"yes\" \"yes\" \"yes\" ...\n $ paid.x    : chr [1:320] \"no\" \"no\" \"yes\" \"yes\" ...\n $ activities: chr [1:320] \"no\" \"no\" \"yes\" \"no\" ...\n $ nursery   : chr [1:320] \"yes\" \"no\" \"yes\" \"yes\" ...\n $ higher    : chr [1:320] \"yes\" \"yes\" \"yes\" \"yes\" ...\n $ internet  : chr [1:320] \"no\" \"yes\" \"yes\" \"no\" ...\n $ romantic  : chr [1:320] \"no\" \"no\" \"yes\" \"no\" ...\n $ famrel    : num [1:320] 4 5 3 4 5 4 4 4 5 3 ...\n $ freetime  : num [1:320] 3 3 2 3 4 4 1 2 5 3 ...\n $ goout     : num [1:320] 4 3 2 2 2 4 4 2 1 3 ...\n $ Dalc      : num [1:320] 1 1 1 1 1 1 1 1 1 1 ...\n $ Walc      : num [1:320] 1 1 1 2 2 1 1 1 1 2 ...\n $ health    : num [1:320] 3 3 5 5 5 3 1 1 5 2 ...\n $ absences.x: num [1:320] 6 4 2 4 10 0 6 0 0 0 ...\n $ G1.x      : num [1:320] 5 5 15 6 15 12 6 16 14 10 ...\n $ G2.x      : num [1:320] 6 5 14 10 15 12 5 18 15 8 ...\n $ G3.x      : num [1:320] 6 6 15 10 15 11 6 19 15 9 ...\n $ paid.y    : chr [1:320] \"no\" \"no\" \"no\" \"no\" ...\n $ absences.y: num [1:320] 4 2 0 0 6 0 2 0 0 2 ...\n $ G1.y      : num [1:320] 0 9 14 11 12 13 10 15 12 14 ...\n $ G2.y      : num [1:320] 11 11 14 13 12 12 13 16 12 14 ...\n $ G3.y      : num [1:320] 11 11 14 13 13 13 13 17 13 14 ...\n\ncolSums(is.na(combined_data)) # check missing values\n\n    school        sex        age    address    famsize    Pstatus       Medu \n         0          0          0          0          0          0          0 \n      Fedu       Mjob       Fjob     reason   guardian traveltime  studytime \n         0          0          0          0          0          0          0 \n  failures  schoolsup     famsup     paid.x activities    nursery     higher \n         0          0          0          0          0          0          0 \n  internet   romantic     famrel   freetime      goout       Dalc       Walc \n         0          0          0          0          0          0          0 \n    health absences.x       G1.x       G2.x       G3.x     paid.y absences.y \n         0          0          0          0          0          0          0 \n      G1.y       G2.y       G3.y \n         0          0          0 \n\n# See below the result of examining the structure of the data. I did not find any missing values when running colsums() \n\nCreate contingency tables\n\n# one-way contingency table\none_way_school &lt;- table(combined_data$school)\none_way_school\n\n\n GP  MS \n287  33 \n\n\nThe above output shows that ‘GP’ appears 287 times in the dataset and ‘MS’ appears 33 times.\n\n# Two-way contingency table\ntwo_way_table &lt;- table(combined_data$school, combined_data$reason)\ntwo_way_table\n\n    \n     course home other reputation\n  GP    106   79    22         80\n  MS     12    8     8          5\n\n\nThe above output shows that the count of observations where the student is from ‘GP’ and the reason why they choose ‘GP’ being ‘course’ is 106, and so forth.\n\nthree_way_table &lt;- table(combined_data$school, combined_data$reason, combined_data$famsize)\nthree_way_table\n\n, ,  = GT3\n\n    \n     course home other reputation\n  GP     79   54    18         57\n  MS      6    7     6          3\n\n, ,  = LE3\n\n    \n     course home other reputation\n  GP     27   25     4         23\n  MS      6    1     2          2\n\n\nThe above output shows that for family size of ‘GT3’, the count of observations where the stsudent is from ‘GP’ and the reason why they choose ‘GP’ being course is 79, and so forth.\nNow, create a conditional 2-way table using table().\n\n# Do it by subsetting the data first.\nsubset_data &lt;- combined_data %&gt;%\n  filter(school ==\"GP\")\n\ncond_2way_table &lt;- table(subset_data$reason, subset_data$famsize)\ncond_2way_table\n\n            \n             GT3 LE3\n  course      79  27\n  home        54  25\n  other       18   4\n  reputation  57  23\n\n\n\n# Do it by creating a three-way table first\nthree_way &lt;- table(combined_data$school, combined_data$reason, combined_data$famsize)\nconditional_2way_table &lt;- three_way[\"GP\", , ]\nconditional_2way_table\n\n            \n             GT3 LE3\n  course      79  27\n  home        54  25\n  other       18   4\n  reputation  57  23\n\n\nCreate a 2-way contingency table using group_by() and summarize(), then format it.\n\ntwo_way &lt;- combined_data %&gt;% \n  group_by(reason, famsize) %&gt;% \n  summarize(count=n(), .groups = 'drop')\nformat_two_way &lt;- two_way %&gt;%\n  pivot_wider(names_from = famsize, values_from = count, values_fill = 0)\nformat_two_way\n\n# A tibble: 4 × 3\n  reason       GT3   LE3\n  &lt;fct&gt;      &lt;int&gt; &lt;int&gt;\n1 course        85    33\n2 home          61    26\n3 other         24     6\n4 reputation    60    25\n\n\nCreate a stacked bar graph and a side-by-side bar graph.\n\nlibrary(ggplot2)\n\n# Stacked bar graph\nstacked_bar &lt;- ggplot(combined_data, aes(x = famsize, fill = reason)) +\n  geom_bar(position = \"stack\") +\n  labs(title = \"Stacked Bar Graph of Reasons by Family Size\",\n       x = \"Family Size\",\n       y = \"Count\",\n       fill = \"Reason\") +\n  theme_minimal()\n\nstacked_bar\n\n\n\n\n\n# Side-by-Side Bar Graph\nside_by_side_bar &lt;- ggplot(combined_data, aes(x = famsize, fill = reason)) +\n  geom_bar(position = \"dodge\") +\n  labs(title = \"Side-by-Side Bar Graph of Reasons by Family Size\",\n       x = \"Family Size\",\n       y = \"Count\",\n       fill = \"Reason\") +\n  theme_minimal()\n\nside_by_side_bar\n\n\n\n\nFor numerical variables, find measures of center and spread for three of them.\n\n# To measure center, I use mean and median. To measure spread, I use standard deviation.\ncombined_summary &lt;- combined_data %&gt;%\n  summarize(\n    age_mean = mean(age),\n    age_median = median(age),\n    age_sd = sd(age),\n    # \n    absences_mean = mean(absences.x),\n    absences_median = median(absences.x),\n    absences_sd = sd(absences.x),\n    \n    G3_mean = mean(G3.x),\n    G3_median = median(G3.x),\n    G3_sd = sd(G3.x)\n  )\n\n# Print the summary\ncombined_summary\n\n# A tibble: 1 × 9\n  age_mean age_median age_sd absences_mean absences_median absences_sd G3_mean\n     &lt;dbl&gt;      &lt;dbl&gt;  &lt;dbl&gt;         &lt;dbl&gt;           &lt;dbl&gt;       &lt;dbl&gt;   &lt;dbl&gt;\n1     16.5         16   1.14          5.41               4        7.84    11.0\n# ℹ 2 more variables: G3_median &lt;dbl&gt;, G3_sd &lt;dbl&gt;\n\n\nRepeat the step while subsetting the data (I choose the school filter)\n\ngp_summary &lt;- combined_data %&gt;% \n  filter(school==\"GP\") %&gt;% \n  summarize(\n    age_mean = mean(age),\n    age_median = median(age),\n    age_sd = sd(age),\n    # \n    absences_mean = mean(absences.x),\n    absences_median = median(absences.x),\n    absences_sd = sd(absences.x),\n    \n    G3_mean = mean(G3.x),\n    G3_median = median(G3.x),\n    G3_sd = sd(G3.x)\n  )\ngp_summary\n\n# A tibble: 1 × 9\n  age_mean age_median age_sd absences_mean absences_median absences_sd G3_mean\n     &lt;dbl&gt;      &lt;dbl&gt;  &lt;dbl&gt;         &lt;dbl&gt;           &lt;dbl&gt;       &lt;dbl&gt;   &lt;dbl&gt;\n1     16.4         16   1.10          5.64               4        8.10    11.2\n# ℹ 2 more variables: G3_median &lt;dbl&gt;, G3_sd &lt;dbl&gt;\n\n\nFind measure of center and spread across a single grouping variable for three variables.\n\ngrouped_summary &lt;- combined_data %&gt;%\n  group_by(famsize) %&gt;%\n  summarize(\n    age_mean = mean(age),\n    age_median = median(age),\n    age_sd = sd(age),\n    # \n    absences_mean = mean(absences.x),\n    absences_median = median(absences.x),\n    absences_sd = sd(absences.x),\n    \n    G3_mean = mean(G3.x),\n    G3_median = median(G3.x),\n    G3_sd = sd(G3.x)\n  )\ngrouped_summary\n\n# A tibble: 2 × 10\n  famsize age_mean age_median age_sd absences_mean absences_median absences_sd\n  &lt;fct&gt;      &lt;dbl&gt;      &lt;dbl&gt;  &lt;dbl&gt;         &lt;dbl&gt;           &lt;dbl&gt;       &lt;dbl&gt;\n1 GT3         16.5         16   1.16          5.25               4        7.92\n2 LE3         16.6         17   1.10          5.82               4        7.65\n# ℹ 3 more variables: G3_mean &lt;dbl&gt;, G3_median &lt;dbl&gt;, G3_sd &lt;dbl&gt;\n\n\nFind measure of center and spread across 2 grouping variables for three variables.\n\ngrouped_summary2 &lt;- combined_data %&gt;%\n  group_by(famsize, school) %&gt;%\n  summarize(\n    age_mean = mean(age),\n    age_median = median(age),\n    age_sd = sd(age),\n    # \n    absences_mean = mean(absences.x),\n    absences_median = median(absences.x),\n    absences_sd = sd(absences.x),\n    \n    G3_mean = mean(G3.x),\n    G3_median = median(G3.x),\n    G3_sd = sd(G3.x)\n  )\n\n`summarise()` has grouped output by 'famsize'. You can override using the\n`.groups` argument.\n\ngrouped_summary2\n\n# A tibble: 4 × 11\n# Groups:   famsize [2]\n  famsize school age_mean age_median age_sd absences_mean absences_median\n  &lt;fct&gt;   &lt;fct&gt;     &lt;dbl&gt;      &lt;dbl&gt;  &lt;dbl&gt;         &lt;dbl&gt;           &lt;dbl&gt;\n1 GT3     GP         16.4         16  1.11           5.34               4\n2 GT3     MS         17.8         18  0.664          4.41               3\n3 LE3     GP         16.4         16  1.07           6.43               4\n4 LE3     MS         17.7         18  0.467          1.45               0\n# ℹ 4 more variables: absences_sd &lt;dbl&gt;, G3_mean &lt;dbl&gt;, G3_median &lt;dbl&gt;,\n#   G3_sd &lt;dbl&gt;\n\n\nCreate a correlation matrix.\n\n# remove the non-numerical data\nnumeric_data &lt;- combined_data %&gt;%\n  select(where(is.numeric))\n\ncorr_matrix &lt;- cor(numeric_data, use = \"complete.obs\")\ncorr_matrix &lt;- round(corr_matrix, 3)\ncorr_matrix\n\n              age   Medu   Fedu traveltime studytime failures famrel freetime\nage         1.000 -0.101 -0.107      0.160     0.044    0.243  0.050   -0.046\nMedu       -0.101  1.000  0.622     -0.219     0.045   -0.126 -0.068    0.004\nFedu       -0.107  0.622  1.000     -0.194    -0.039   -0.157 -0.047   -0.001\ntraveltime  0.160 -0.219 -0.194      1.000    -0.103    0.105 -0.027   -0.056\nstudytime   0.044  0.045 -0.039     -0.103     1.000   -0.180  0.001   -0.092\nfailures    0.243 -0.126 -0.157      0.105    -0.180    1.000  0.094    0.090\nfamrel      0.050 -0.068 -0.047     -0.027     0.001    0.094  1.000    0.091\nfreetime   -0.046  0.004 -0.001     -0.056    -0.092    0.090  0.091    1.000\ngoout       0.151  0.066  0.051      0.007    -0.009    0.097  0.033    0.243\nDalc        0.114  0.063  0.039      0.161    -0.172    0.162 -0.057    0.205\nWalc        0.157 -0.004  0.023      0.105    -0.232    0.167 -0.126    0.119\nhealth     -0.113 -0.011  0.067      0.021    -0.041    0.042  0.140    0.071\nabsences.x  0.144  0.100  0.025     -0.001    -0.082    0.120 -0.048   -0.046\nG1.x       -0.110  0.193  0.176     -0.088     0.126   -0.196 -0.056   -0.017\nG2.x       -0.186  0.189  0.150     -0.185     0.089   -0.167 -0.087   -0.030\nG3.x       -0.206  0.188  0.142     -0.165     0.045   -0.143 -0.018   -0.007\nabsences.y  0.047  0.064  0.087      0.054    -0.135    0.134 -0.030   -0.011\nG1.y       -0.051  0.181  0.116     -0.178     0.230   -0.269 -0.064   -0.086\nG2.y        0.029  0.190  0.137     -0.180     0.231   -0.270 -0.024   -0.087\nG3.y       -0.009  0.159  0.108     -0.154     0.239   -0.328 -0.013   -0.111\n            goout   Dalc   Walc health absences.x   G1.x   G2.x   G3.x\nage         0.151  0.114  0.157 -0.113      0.144 -0.110 -0.186 -0.206\nMedu        0.066  0.063 -0.004 -0.011      0.100  0.193  0.189  0.188\nFedu        0.051  0.039  0.023  0.067      0.025  0.176  0.150  0.142\ntraveltime  0.007  0.161  0.105  0.021     -0.001 -0.088 -0.185 -0.165\nstudytime  -0.009 -0.172 -0.232 -0.041     -0.082  0.126  0.089  0.045\nfailures    0.097  0.162  0.167  0.042      0.120 -0.196 -0.167 -0.143\nfamrel      0.033 -0.057 -0.126  0.140     -0.048 -0.056 -0.087 -0.018\nfreetime    0.243  0.205  0.119  0.071     -0.046 -0.017 -0.030 -0.007\ngoout       1.000  0.257  0.379 -0.049      0.079 -0.116 -0.159 -0.118\nDalc        0.257  1.000  0.650  0.060      0.152 -0.096 -0.059 -0.047\nWalc        0.379  0.650  1.000  0.070      0.208 -0.080 -0.065 -0.028\nhealth     -0.049  0.060  0.070  1.000      0.012 -0.062 -0.077 -0.048\nabsences.x  0.079  0.152  0.208  0.012      1.000 -0.069 -0.076 -0.028\nG1.x       -0.116 -0.096 -0.080 -0.062     -0.069  1.000  0.866  0.819\nG2.x       -0.159 -0.059 -0.065 -0.077     -0.076  0.866  1.000  0.914\nG3.x       -0.118 -0.047 -0.028 -0.048     -0.028  0.819  0.914  1.000\nabsences.y  0.129  0.108  0.150 -0.001      0.564 -0.088 -0.126 -0.117\nG1.y       -0.072 -0.234 -0.158 -0.126     -0.092  0.593  0.543  0.523\nG2.y       -0.091 -0.253 -0.183 -0.170     -0.145  0.595  0.565  0.545\nG3.y       -0.073 -0.280 -0.183 -0.162     -0.136  0.544  0.496  0.476\n           absences.y   G1.y   G2.y   G3.y\nage             0.047 -0.051  0.029 -0.009\nMedu            0.064  0.181  0.190  0.159\nFedu            0.087  0.116  0.137  0.108\ntraveltime      0.054 -0.178 -0.180 -0.154\nstudytime      -0.135  0.230  0.231  0.239\nfailures        0.134 -0.269 -0.270 -0.328\nfamrel         -0.030 -0.064 -0.024 -0.013\nfreetime       -0.011 -0.086 -0.087 -0.111\ngoout           0.129 -0.072 -0.091 -0.073\nDalc            0.108 -0.234 -0.253 -0.280\nWalc            0.150 -0.158 -0.183 -0.183\nhealth         -0.001 -0.126 -0.170 -0.162\nabsences.x      0.564 -0.092 -0.145 -0.136\nG1.x           -0.088  0.593  0.595  0.544\nG2.x           -0.126  0.543  0.565  0.496\nG3.x           -0.117  0.523  0.545  0.476\nabsences.y      1.000 -0.099 -0.121 -0.071\nG1.y           -0.099  1.000  0.884  0.825\nG2.y           -0.121  0.884  1.000  0.894\nG3.y           -0.071  0.825  0.894  1.000\n\n\nCreate diagrams.\n\n# histogram plot for G3 across school\nhistogram_plot &lt;- ggplot(combined_data, aes(x = G3.x, fill = school)) +\n  geom_histogram(position = \"identity\",  , bins = 30) +\n  labs(title = \"Histogram of G3 Scores by School\",\n       x = \"G3 Score\",\n       y = \"Count\",\n       fill = \"School\") \nprint(histogram_plot)\n\n\n\n\n\n# Kernel density plot for 'G3' across 'school'\ndensity_plot &lt;- ggplot(combined_data, aes(x = G3.x, fill = school)) +\n  geom_density(alpha = 0.6) +\n  labs(title = \"Kernel Density Plot of G3 Scores by School\",\n       x = \"G3 Score\",\n       y = \"Density\",\n       fill = \"School\") \nprint(density_plot)\n\n\n\n\n\n# Boxplot for 'absences' across 'school'\nboxplot_plot &lt;- ggplot(combined_data, aes(x = school, y = absences.x, fill = school)) +\n  geom_boxplot(alpha = 0.7) +\n  labs(title = \"Boxplot of Absences by School\",\n       x = \"School\",\n       y = \"Number of Absences\",\n       fill = \"School\") \nboxplot_plot\n\n\n\n\n\n# Scatterplot of G3 vs. absences\nscatterplot1 &lt;- ggplot(combined_data, aes(x = absences.x, y = G3.x, color = school)) +\n  geom_jitter(width = 0.3, height = 0.3, ) +\n  labs(title = \"Scatterplot of G3 vs. Absences Colored by School\",\n       x = \"Number of Absences\",\n       y = \"G3 Score\",\n       color = \"School\")\nprint(scatterplot1)\n\n\n\n\n\n# Scatterplot of G3 vs. age, colored by famsize\nscatterplot2 &lt;- ggplot(combined_data, aes(x = age, y = G3.x, color = famsize)) +\n  geom_jitter(width = 0.2, height = 0.3, ) +\n  labs(title = \"Scatterplot of G3 vs. Age Colored by Family Size\",\n       x = \"Age\",\n       y = \"G3 Score\",\n       color = \"Family Size\")\nprint(scatterplot2)\n\n\n\n\nRepeat the scatter plot step but use faceting to obtain graphs\n\n# Scatterplot of G3 vs. absences, faceted by school\nscatterplot_facet1 &lt;- ggplot(combined_data, aes(x = absences.x, y = G3.x)) +\n  geom_jitter(width = 0.3, height = 0.3, alpha = 0.7, color = \"blue\") +\n  facet_wrap(~ school) +\n  labs(title = \"Scatterplot of G3 vs. Absences Faceted by School\",\n       x = \"Number of Absences\",\n       y = \"G3 Score\")\nprint(scatterplot_facet1)\n\n\n\n\n\n# Scatterplot of G3 vs. age, faceted by famsize\nscatterplot_facet2 &lt;- ggplot(combined_data, aes(x = age, y = G3.x)) +\n  geom_jitter(width = 0.2, height = 0.3, alpha = 0.7, color = \"red\") +\n  facet_wrap(~ famsize) +\n  labs(title = \"Scatterplot of G3 vs. Age Faceted by Family Size\",\n       x = \"Age\",\n       y = \"G3 Score\") +\n  theme_minimal()\nprint(scatterplot_facet2)\n\n\n\n\nRepeat the scatter plot step but use faceting to obtain graphs at combination of 2 categorical variables\n\n# Scatterplot of G3 vs. absences, faceted by school and famsize\nscatterplot_facet1 &lt;- ggplot(combined_data, aes(x = absences.x, y = G3.x)) +\n  geom_jitter(width = 0.3, height = 0.3, alpha = 0.7, color = \"blue\") +\n  facet_grid(famsize ~ school) +\n  labs(title = \"Scatterplot of G3 vs. Absences Faceted by School and Family Size\",\n       x = \"Number of Absences\",\n       y = \"G3 Score\") \nprint(scatterplot_facet1)\n\n\n\n\n\n# Scatterplot of G3 vs. age, faceted by school and famsize\nscatterplot_facet2 &lt;- ggplot(combined_data, aes(x = age, y = G3.x)) +\n  geom_jitter(width = 0.2, height = 0.3, alpha = 0.7, color = \"red\") +\n  facet_grid(famsize ~ school) +\n  labs(title = \"Scatterplot of G3 vs. Age Faceted by School and Family Size\",\n       x = \"Age\",\n       y = \"G3 Score\") \nprint(scatterplot_facet2)\n\n\n\n\nThe above graphs show different patterns of absences, G3 among the two schools. There’s also some combined influence of ‘school’ and ‘family size’ on the students’ performance (grades)"
  }
]